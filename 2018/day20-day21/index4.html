<!DOCTYPE html>
<html>
<head>
	<title>day20-21（四）</title>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
	<button id="fade-btn">淡出</button>
	<script type="text/javascript">
		var btn = document.getElementById('fade-btn');
		var obj = document.getElementById('fade-obj');
		var opacity = 1;
		function fadeOut() {
			obj.style.opacity = opacity;
			opacity -= 0.1;
			btn.disabled = true;
			if (opacity > 0) {
				setTimeout(fadeOut, 500);
			} else {
				btn.innerHTML = '淡入';
				btn.disabled = false;
				btn.onclick = fadeIn;
			}
		}
		function fadeIn() {
			obj.style.opacity = opacity;
			opacity += 0.1;
			btn.disabled = true;
			if (opacity < 1) {
				setTimeout(fadeIn, 500);
			} else {
				btn.innerHTML = '淡出';
				btn.disabled = false;
				btn.onclick = fadeOut;
			}
		}
		btn.onclick = fadeOut;
	</script>
</body>
</html>